var __t;__t=function(ns){var curr,index,part,parts,_i,_len;curr=null,parts=[].concat=ns.split(".");for(index=_i=0,_len=parts.length;_i<_len;index=++_i){part=parts[index];if(curr===null){curr=eval(part);continue}curr[part]==null?curr=curr[part]={}:curr=curr[part]}return curr};var Bill,BillsApp,BillsGui,LocalStorage,TrackSpendingsUseCase,WebGlue,__hasProp={}.hasOwnProperty,__bind=function(a,b){return function(){return a.apply(b,arguments)}};_.defaults(this,{Before:function(a,b,c){return YouAreDaBomb(a,b).before(c)},BeforeAnyCallback:function(a,b,c){return YouAreDaBomb(a,b).beforeAnyCallback(c)},After:function(a,b,c){return YouAreDaBomb(a,b).after(c)},Around:function(a,b,c){return YouAreDaBomb(a,b).around(c)},AfterAll:function(a,b,c){var d,e,f,g;g=[];for(e=0,f=b.length;e<f;e++)d=b[e],g.push(After(a,d,c));return g},LogAll:function(a){var b,c,d;d=[];for(b in a){if(!__hasProp.call(a,b))continue;c=a[b],_.isFunction(c)?d.push(function(b){return Before(a,b,function(){return console.log("calling: "+b)})}(b)):d.push(void 0)}return d},AutoBind:function(a,b){var c,d,e;e=[];for(c in a)d=a[c],_.isFunction(d)?e.push(function(c){if(c.endsWith("Clicked")&&b[c.remove("Clicked")])return After(a,c,function(a){return b[c.remove("Clicked")](a)})}(c)):e.push(void 0);return e}}),LocalStorage=function(){function a(a){this.namespace=a}return a}(),TrackSpendingsUseCase=function(){function a(){this.totalFromBills=__bind(this.totalFromBills,this),this.addNewBill=__bind(this.addNewBill,this),this.start=__bind(this.start,this),this.bills=[]}return a.prototype.start=function(){},a.prototype.addNewBill=function(a){return this.bills.push(a)},a.prototype.totalFromBills=function(){return this.bills.sum("value")},a}(),Bill=function(){function a(a){this.value=Number(a)}return a}(),BillsGui=function(){function a(){this.createElementFor=__bind(this.createElementFor,this),this.setTotal=__bind(this.setTotal,this),this.addNewBill=__bind(this.addNewBill,this),this.enterKeyPressed=__bind(this.enterKeyPressed,this),this.clearNewBillInput=__bind(this.clearNewBillInput,this),this.newBillContent=__bind(this.newBillContent,this),this.keyPressed=__bind(this.keyPressed,this);var a=this;$("#new-bill").keypress(function(b){return a.keyPressed(b)}),this.billElements=[]}return a.prototype.keyPressed=function(a){var b;b=13;if(a.keyCode===b)return this.enterKeyPressed(this.newBillContent()),this.clearNewBillInput()},a.prototype.newBillContent=function(){return $("#new-bill").val()},a.prototype.clearNewBillInput=function(){return $("#new-bill").val("")},a.prototype.enterKeyPressed=function(a){},a.prototype.addNewBill=function(a){var b;return b=this.createElementFor(a,"#bill-template"),this.billElements.push(b),$("#bill-list").append(b)},a.prototype.setTotal=function(a){return console.log(a),$("#bill-total").html(a)},a.prototype.createElementFor=function(a,b){var c,d,e,f,g;return f=$(b).html(),g=Handlebars.compile(f),c={content:a.value},e=g(c),d=$(e)},a}(),WebGlue=function(){function a(a,b,c){var d=this;this.useCase=a,this.gui=b,this.storage=c,After(this.gui,"enterKeyPressed",function(a){return d.useCase.addNewBill(new Bill(a))}),After(this.useCase,"addNewBill",this.gui.addNewBill),After(this.useCase,"addNewBill",function(a){return d.gui.setTotal(d.useCase.totalFromBills())})}return a}(),BillsApp=function(){function a(){var a,b,c,d;d=new TrackSpendingsUseCase,window.useCase=d,b=new BillsGui,c=new LocalStorage("bills_app"),a=new WebGlue(d,b,c),d.start()}return a}(),new BillsApp